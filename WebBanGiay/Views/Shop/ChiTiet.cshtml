﻿﻿@model WebBanGiay.Models.Product

@{
    ViewBag.Title = "Chi Tiết Sản Phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml"; // Nếu bạn sử dụng layout chung\
    var Customer = (WebBanGiay.Models.User)HttpContext.Current.Session["Customer"];

}

<form action="~/Cart/AddToCart" method="post">
    <div class="product_image_area">
        <div class="container">
            <div class="row s_product_inner">
                <div class="col-lg-6">
                    <div class="s_Product_carousel">
                        <div class="single-prd-item">
                            <img class="img-fluid" src="~/Areas/Admin/Data/@Model.Product_Image" alt="">
                        </div>
                        <div class="single-prd-item">
                            <img class="img-fluid" src="~/Areas/Admin/Data/@Model.Product_Image" alt="">
                        </div>
                        <div class="single-prd-item">
                            <img class="img-fluid" src="~/Areas/Admin/Data/@Model.Product_Image" alt="">
                        </div>
                    </div>
                </div>
                <div class="col-lg-5 offset-lg-1">
                    <div class="s_product_text">
                        <h3>@Model.Product_Name</h3>
                        <h2>
                            @{int price = Convert.ToInt32(Model.Product_Price);

                                // Định dạng giá tiền với dấu chấm phân cách hàng nghìn
                                string formattedPrice = price.ToString("N0", new System.Globalization.CultureInfo("vi-VN"));
                                <span>@formattedPrice₫</span>
                            }
                        </h2>
                        <ul class="list">
                            <li><a class="active" href="~/Shop?CantegoryFilter=@Model.Category.Category_Id"><span>Category</span> : @Model.Category.Category_Name</a></li>
                            <li><a class="active" href="~/Shop?BrandFilter=@Model.Brand.Brand_Id"><span>Brand</span> : @Model.Brand.Brand_Name</a></li>
                        </ul>
                        <strong class="size-label-title">Size</strong>

                        <input type="hidden" name="Product_Id" value="@Model.Product_Id" />
                        @{
                            if (Customer != null)
                            {
                                <input type="hidden" name="User_Id" value="@Customer.User_Id" />

                            }
                            else
                            {
                                <input type="hidden" name="User_Id" value="0" />

                            }
                        }
                        <div class="size-container-12">
                            <div class="size-label-12">
                                @{
                                    var khoHang = new WebBanGiay.Models.WebBanGiayEntities().WareHouses.ToList();
                                    var productSizes = khoHang.Where(k => k.Product_Id == Model.Product_Id).ToList();
                                }

                                @foreach (var sizeInfo in productSizes)
                                {
                                    bool isDisabled = sizeInfo.Quantity == 0;



                                    <label class="size-label @(isDisabled ? "disabled" : "")">
                                        <input type="radio" name="Size" value="@sizeInfo.Size" onclick="selectSize(this)" @(isDisabled ? "disabled" : "") />
                                        @sizeInfo.Size
                                    </label>
                                }
                            </div>
                        </div>
                        @*<div class="size-container-12">
                                <div class="size-label-12">
                                    @for (int size = 35; size <= 44; size++)
                                    {
                                        <label class="size-label">
                                            <input type="radio" name="Size" value="@size" onclick="" />
                                            @size
                                        </label>
                                    }
                                </div>
                            </div>*@
                        <p>
                            Mill Oil is an innovative oil filled radiator with the most modern technology. If you are looking for
                            something that can make your interior look awesome, and at the same time give you the pleasant warm feeling
                            during the winter.
                        </p>
                        <div class="product_count">
                            <label for="qty">Quantity:</label>
                            <input type="text" name="Quantity" id="sst" maxlength="12" value="1" title="Quantity:" class="input-text qty">
                            <button onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst )) result.value++;return false;"
                                    class="increase items-count" type="button">
                                <i class="lnr lnr-chevron-up"></i>
                            </button>
                            <button onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst ) &amp;&amp; sst > 0 ) result.value--;return false;"
                                    class="reduced items-count" type="button">
                                <i class="lnr lnr-chevron-down"></i>
                            </button>
                        </div>
                        <div class="card_area d-flex align-items-center">
                            <button type="submit" value="submit" class="btn primary-btn">Submit Now</button>

                            <a class="icon_btn" href="#"><i class="lnr lnr lnr-diamond"></i></a>
                            <a class="icon_btn" href="#"><i class="lnr lnr lnr-heart"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<!--================End Single Product Area =================-->
<!--================Product Description Area =================-->
<section class="product_description_area">
    <div class="container">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Description</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
                   aria-selected="false">Specification</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
                   aria-selected="false">Comments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" id="review-tab" data-toggle="tab" href="#review" role="tab" aria-controls="review"
                   aria-selected="false">Reviews</a>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade" id="home" role="tabpanel" aria-labelledby="home-tab">
                <p>
                    @Model.Product_Description
                </p>
                <p>

                </p>
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                <div class="table-responsive">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td>
                                    <h5>Width</h5>
                                </td>
                                <td>
                                    <h5>128mm</h5>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h5>Height</h5>
                                </td>
                                <td>
                                    <h5>508mm</h5>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h5>Depth</h5>
                                </td>
                                <td>
                                    <h5>85mm</h5>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h5>Weight</h5>
                                </td>
                                <td>
                                    <h5>52gm</h5>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h5>Quality checking</h5>
                                </td>
                                <td>
                                    <h5>yes</h5>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h5>Freshness Duration</h5>
                                </td>
                                <td>
                                    <h5>03days</h5>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h5>When packeting</h5>
                                </td>
                                <td>
                                    <h5>Without touch of hand</h5>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h5>Each Box contains</h5>
                                </td>
                                <td>
                                    <h5>60pcs</h5>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="comment_list">
                            <div class="review_item">
                                <div class="media">
                                    <div class="d-flex">
                                        <img src="/img/product/review-1.png" alt="">
                                    </div>
                                    <div class="media-body">
                                        <h4>Tất Bình</h4>
                                        <h5>12th Feb, 2018 at 05:56 pm</h5>
                                        <a class="reply_btn" href="#">Reply</a>
                                    </div>
                                </div>
                                <p>
                                    Sản phẩm rất tuyệt, mang rất êm chân
                                </p>
                            </div>
                            <div class="review_item reply">
                                <div class="media">
                                    <div class="d-flex">
                                        <img src="/img/product/review-2.png" alt="">
                                    </div>
                                    <div class="media-body">
                                        <h4>Hoàng Đức</h4>
                                        <h5>12th Feb, 2018 at 05:56 pm</h5>
                                        <a class="reply_btn" href="#">Reply</a>
                                    </div>
                                </div>
                                <p>
                                    Giày đi hơi cứng chân 1 chút nhưng quen rồi thì rất tuyệt
                                </p>
                            </div>
                            <div class="review_item">
                                <div class="media">
                                    <div class="d-flex">
                                        <img src="/img/product/review-3.png" alt="">
                                    </div>
                                    <div class="media-body">
                                        <h4>Đức Mạnh</h4>
                                        <h5>12th Feb, 2018 at 05:56 pm</h5>
                                        <a class="reply_btn" href="#">Reply</a>
                                    </div>
                                </div>
                                <p>
                                    Thằng nào làm chiếc giày này đấy ? Giày rất tuyệt !!!
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="review_box">
                            <h4>Post a comment</h4>
                            <form class="row contact_form" action="contact_process.php" method="post" id="contactForm" novalidate="novalidate">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="name" name="name" placeholder="Your Full name">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input type="email" class="form-control" id="email" name="email" placeholder="Email Address">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="number" name="number" placeholder="Phone Number">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <textarea class="form-control" name="message" id="message" rows="1" placeholder="Message"></textarea>
                                    </div>
                                </div>
                                <div class="col-md-12 text-right">
                                    <button type="submit" value="submit" class="btn primary-btn">Submit Now</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade show active" id="review" role="tabpanel" aria-labelledby="review-tab">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="row total_rate">
                            <div class="col-6">
                                <div class="box_total">
                                    <h5>Overall</h5>
                                    <h4>4.0</h4>
                                    <h6>(03 Reviews)</h6>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="rating_list">
                                    <h3>Based on 3 Reviews</h3>
                                    <ul class="list">
                                        <li>
                                            <a href="#">
                                                5 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i> 01
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                4 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i> 01
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                3 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i> 01
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                2 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i> 00
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                1 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i> 00
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="review_list">
                            <div class="review_item">
                                <div class="media">
                                    <div class="d-flex">
                                        <img src="/img/product/review-1.png" alt="">
                                    </div>
                                    <div class="media-body">
                                        <h4>Tất Bình</h4>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                </div>
                                <p>
                                    Sản phẩm rất tuyệt, mang rất êm chân
                                </p>
                            </div>
                            <div class="review_item">
                                <div class="media">
                                    <div class="d-flex">
                                        <img src="/img/product/review-2.png" alt="">
                                    </div>
                                    <div class="media-body">
                                        <h4>Hoàng Đức</h4>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                </div>
                                <p>
                                    Giày đi hơi cứng chân 1 chút nhưng quen rồi thì rất tuyệt
                                </p>
                            </div>
                            <div class="review_item">
                                <div class="media">
                                    <div class="d-flex">
                                        <img src="/img/product/review-3.png" alt="">
                                    </div>
                                    <div class="media-body">
                                        <h4>Đức Mạnh</h4>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                </div>
                                <p>
                                    Thằng nào làm chiếc giày này thế ?
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="review_box">
                            <h4>Add a Review</h4>
                            <p>Your Rating:</p>
                            <ul class="list">
                                <li><a href="#"><i class="fa fa-star"></i></a></li>
                                <li><a href="#"><i class="fa fa-star"></i></a></li>
                                <li><a href="#"><i class="fa fa-star"></i></a></li>
                                <li><a href="#"><i class="fa fa-star"></i></a></li>
                                <li><a href="#"><i class="fa fa-star"></i></a></li>
                            </ul>
                            <p>Outstanding</p>
                            <form class="row contact_form" action="contact_process.php" method="post" id="contactForm" novalidate="novalidate">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="name" name="name" placeholder="Your Full name" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Your Full name'">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address'">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="number" name="number" placeholder="Phone Number" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number'">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <textarea class="form-control" name="message" id="message" rows="1" placeholder="Review" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Review'"></textarea></textarea>
                                    </div>
                                </div>
                                <div class="col-md-12 text-right">
                                    <button type="submit" value="submit" class="primary-btn">Submit Now</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Product Description Area =================-->
<!-- Start related-product Area -->
<section class="related-product-area section_gap_bottom">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 text-center">
                <div class="section-title">
                    <h1>Deals of the Week</h1>
                    <p>
                    </p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-9">
                <div class="row">
                    @{
                        int count = 0;
                        foreach (var item in new WebBanGiay.Models.WebBanGiayEntities().Products.ToList())
                        {
                            if (count < 9) // Giới hạn hiển thị chỉ 9 sản phẩm
                            {
                                <div class="col-lg-4 col-md-4 col-sm-6 mb-20">
                                    <div class="single-related-product d-flex">
                                        <a href="#"><img src="~/Areas/Admin/Data/@item.Product_Image" alt="" style="width: 70px; height: 70px;"></a>
                                        <div class="desc">
                                            <a href="#" class="title">@item.Product_Name</a>
                                            <div class="price">
                                                <h6>
                                                    @{
                                                        int price1 = Convert.ToInt32(item.Product_Price);
                                                        string formattedPrice1 = price1.ToString("N0", new System.Globalization.CultureInfo("vi-VN"));
                                                    }
                                                    <span>@formattedPrice1₫</span>
                                                </h6>
                                                <h6 class="l-through">
                                                    @{
                                                        int price2 = Convert.ToInt32(item.Product_Price);
                                                        string formattedPrice2 = price2.ToString("N0", new System.Globalization.CultureInfo("vi-VN"));
                                                    }
                                                    <span>@formattedPrice2₫</span>
                                                </h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                count++;
                            }
                        }
                    }
                </div>
            </div>
            <div class="col-lg-3">
                <div class="ctg-right">
                    <a href="#" target="_blank">
                        <img class="img-fluid d-block mx-auto" src="/img/category/c5.jpg" alt="">
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<style>
    .size-container-12 {
        text-align: center; /* Căn giữa nội dung */
        margin-bottom: 10px; /* Khoảng cách với các phần khác */
    }

    .size-label-title {
        margin-bottom: 5px; /* Giảm khoảng cách giữa Size và các ô chọn size */
        font-weight: bold; /* Đậm chữ Size */
        font-size: 14px; /* Đặt kích thước chữ Size */
        padding-bottom: 5px; /* Khoảng cách dưới của Size */
    }

    .size-label-12 {
        display: inline-block;
        white-space: nowrap;
    }

        .size-label-12 .size-label {
            display: inline-block;
            margin: 5px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            text-align: center;
            box-sizing: border-box;
        }

            .size-label-12 .size-label input {
                display: none;
            }

            .size-label-12 .size-label:hover {
                background-color: #f0f0f0;
            }

            .size-label-12 .size-label.selected {
                background-color: orange;
                color: #fff;
            }

            .size-label-12 .size-label.disabled {
                background-color: #ccc;
                cursor: not-allowed;
                color: #999;
            }
</style>

<script>
    function selectSize(input) {
        var labels = document.querySelectorAll('.size-label');
        labels.forEach(function (label) {
            label.classList.remove('selected');
        });
        input.parentElement.classList.add('selected');
    }
</script>


<!-- End related-product Area -->